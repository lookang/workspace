<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <title>Catch the odd rhyme!</title>
    <link rel="stylesheet"  type="text/css" href="_ejs_library/css/ejss.css" />
    <script src="_ejs_library/scripts/common_script.js"></script>
    <script src="_ejs_library/scripts/textresizedetector.js"></script>
    <script src="_ejs_library/ejsS.v1.min.js"></script>
<script type="text/javascript"><!--//--><![CDATA[//><!--
/* _inputParameters: an object with different values for the model parameters */
function Find_the_odd_rhyme_out_final(_topFrame,_libraryPath,_codebasePath, _inputParameters) {
  var _model = EJSS_CORE.createAnimationLMS();
  var _view;
  var _isPlaying = false;
  var _isPaused = true;
  var _isMobile = (navigator===undefined) ? false : navigator.userAgent.match(/iPhone|iPad|iPod|Android|BlackBerry|Opera Mini|IEMobile/i);

var _stringProperties = {};
  var _tools = {
    showInputDialog : EJSS_INTERFACE.BoxPanel.showInputDialog,
    showOkDialog : EJSS_INTERFACE.BoxPanel.showOkDialog,
    showOkCancelDialog : EJSS_INTERFACE.BoxPanel.showOkCancelDialog,
    downloadText: EJSS_TOOLS.File.downloadText,
    uploadText: function(action) { EJSS_TOOLS.File.uploadText(_model,action); } 
  };

  function _play()  { _isPaused = false; _isPlaying = true;  _model.play();  }
  function _pause() { _isPaused = true;  _isPlaying = false; _model.pause(); }
  function _step()  { _pause();  _model.step(); }
  function _reset() { _model.reset();  _isPaused = _model.isPaused(); _isPlaying = _model.isPlaying(); }
  _model._play  = _play;
  _model._pause = _pause;
  _model._step  = _step;
  _model._reset = _reset;
  function _update() { _model.update(); }
  function _initialize() { _model.initialize(); }
  function _setFPS(_fps) { _model.setFPS(_fps); }
  function _setDelay(_delay) { _model.setDelay(_delay); }
  function _setStepsPerDisplay(_spd) { _model.setStepsPerDisplay(_spd); }
  function _setUpdateView(_updateView) { _model.setUpdateView(_updateView); }
  function _setAutoplay(_auto) { _model.setAutoplay(_auto); }
  function _println(_message) { console.log(_message); }

  function _breakAfterThisPage() { _model.setShouldBreak(true); }

  function _resetSolvers() { if (_model.resetSolvers) _model.resetSolvers(); }

  function _saveText(name,type,content) { if (_model.saveText) _model.saveText(name,type,content); }

  function _saveState(name) { if (_model.saveState) _model.saveState(name); }

  function _saveImage(name,panelname) { if (_model.saveImage) _model.saveImage(name,panelname); }

  function _readState(url,type) { if (_model.readState) _model.readState(url,type); }

  function _readText(url,type,varname) { if (_model.readText) _model.readText(url,type,varname); }

  function _getStringProperty(propertyName) {
    var _value = _stringProperties[propertyName];
    if (_value===undefined) return propertyName;
    else return _value;
  }
  var __pagesEnabled = [];
  function _setPageEnabled(pageName,enabled) { __pagesEnabled[pageName] = enabled; }

  var log; // EjsS Model.Variables.answer.log
  var numberofrounds; // EjsS Model.Variables.answer.numberofrounds
  var numberofoption; // EjsS Model.Variables.answer.numberofoption
  var answerstringarray; // EjsS Model.Variables.answer.answerstringarray
  var catchanswerarray; // EjsS Model.Variables.answer.catchanswerarray
  var fontsize; // EjsS Model.Variables.answer.fontsize

  var t; // EjsS Model.Variables.Var Table.t
  var dt; // EjsS Model.Variables.Var Table.dt
  var n; // EjsS Model.Variables.Var Table.n
  var x; // EjsS Model.Variables.Var Table.x
  var y; // EjsS Model.Variables.Var Table.y
  var vy; // EjsS Model.Variables.Var Table.vy
  var textanswer; // EjsS Model.Variables.Var Table.textanswer
  var text; // EjsS Model.Variables.Var Table.text
  var vocabaudio; // EjsS Model.Variables.Var Table.vocabaudio

  var xc; // EjsS Model.Variables.Var Table 2.xc
  var yc; // EjsS Model.Variables.Var Table 2.yc
  var separation; // EjsS Model.Variables.Var Table 2.separation

  var score; // EjsS Model.Variables.game.score
  var correct; // EjsS Model.Variables.game.correct
  var notrynumber; // EjsS Model.Variables.game.notrynumber

  var kheight; // EjsS Model.Variables.height.kheight

  var _privateOdesList;
  var _ODEi_evolution1;
  var userEvents1=[];

  _model.getOdes = function() { return [_ODEi_evolution1]; };

  _model.removeEvents = function(){
    userEvents1=[];
  };

  function _serialize() { return _model.serialize(); }

  _model._userSerialize = function() {
    return {
      log : log,
      numberofrounds : numberofrounds,
      numberofoption : numberofoption,
      answerstringarray : answerstringarray,
      catchanswerarray : catchanswerarray,
      fontsize : fontsize,
      t : t,
      dt : dt,
      n : n,
      x : x,
      y : y,
      vy : vy,
      textanswer : textanswer,
      text : text,
      vocabaudio : vocabaudio,
      xc : xc,
      yc : yc,
      separation : separation,
      score : score,
      correct : correct,
      notrynumber : notrynumber,
      kheight : kheight
    };
  };

  _model._readParameters = function(json) {
    if(typeof json.log != "undefined") log = json.log;
    if(typeof json.numberofrounds != "undefined") numberofrounds = json.numberofrounds;
    if(typeof json.numberofoption != "undefined") numberofoption = json.numberofoption;
    if(typeof json.answerstringarray != "undefined") answerstringarray = json.answerstringarray;
    if(typeof json.catchanswerarray != "undefined") catchanswerarray = json.catchanswerarray;
    if(typeof json.fontsize != "undefined") fontsize = json.fontsize;
    if(typeof json.t != "undefined") t = json.t;
    if(typeof json.dt != "undefined") dt = json.dt;
    if(typeof json.n != "undefined") n = json.n;
    if(typeof json.x != "undefined") x = json.x;
    if(typeof json.y != "undefined") y = json.y;
    if(typeof json.vy != "undefined") vy = json.vy;
    if(typeof json.textanswer != "undefined") textanswer = json.textanswer;
    if(typeof json.text != "undefined") text = json.text;
    if(typeof json.vocabaudio != "undefined") vocabaudio = json.vocabaudio;
    if(typeof json.xc != "undefined") xc = json.xc;
    if(typeof json.yc != "undefined") yc = json.yc;
    if(typeof json.separation != "undefined") separation = json.separation;
    if(typeof json.score != "undefined") score = json.score;
    if(typeof json.correct != "undefined") correct = json.correct;
    if(typeof json.notrynumber != "undefined") notrynumber = json.notrynumber;
    if(typeof json.kheight != "undefined") kheight = json.kheight;
  };

  _model._inputAndPublicParameters = ["log",  "numberofrounds",  "numberofoption",  "answerstringarray",  "catchanswerarray",  "fontsize",  "t",  "dt",  "n",  "x",  "y",  "vy",  "textanswer",  "text",  "vocabaudio",  "xc",  "yc",  "separation",  "score",  "correct",  "notrynumber",  "kheight"]; 

  _model._outputAndPublicParameters = ["log",  "numberofrounds",  "numberofoption",  "answerstringarray",  "catchanswerarray",  "fontsize",  "t",  "dt",  "n",  "x",  "y",  "vy",  "textanswer",  "text",  "vocabaudio",  "xc",  "yc",  "separation",  "score",  "correct",  "notrynumber",  "kheight"];

  function _unserialize(json) { return _model.unserialize(json); }

  _model._userUnserialize = function(json) {
    _model._readParameters(json);
   _resetSolvers();
   _model.update();
  };

  _model.addToReset(function() {
    __pagesEnabled["teacher key"] = false;
    __pagesEnabled["init"] = true;
    __pagesEnabled["shuttle"] = true;
    __pagesEnabled["introduction"] = true;
    __pagesEnabled["undefined"] = true;
    __pagesEnabled["message"] = true;
    __pagesEnabled["Evol Page"] = true;
    __pagesEnabled["Event"] = true;
    __pagesEnabled["Event 2"] = true;
    __pagesEnabled["Event 3"] = true;
    __pagesEnabled["Event 4"] = true;
    __pagesEnabled["Collisioncorrect0"] = true;
    __pagesEnabled["Collision 2"] = true;
    __pagesEnabled["Collision 2 2"] = true;
    __pagesEnabled["Collision 2 2 2"] = true;
  });

  _model.addToReset(function() {
    numberofrounds = 8; // EjsS Model.Variables.answer.numberofrounds
    numberofoption = 4; // EjsS Model.Variables.answer.numberofoption
    answerstringarray = [["Heist","Right","Kite","Height"],["Beer","Bore","Fore","Roar"],["Month","One","Gun","Won"],["Life","Love","Dove","Glove"],["Chop","Rock","Chalk","Hawk"],["Sane","Reign","Rain","Pain"],["Drivin'","Seven","Heaven","Eleven"],["Sleigh","Day","Stay","Way"],["","","",""]]; // EjsS Model.Variables.answer.answerstringarray
    catchanswerarray = ["","","","","","","","","","","",""]; // EjsS Model.Variables.answer.catchanswerarray
    fontsize = "normal normal 4vw "; // EjsS Model.Variables.answer.fontsize
  });

  _model.addToReset(function() {
    t = 0; // EjsS Model.Variables.Var Table.t
    dt = 0.05; // EjsS Model.Variables.Var Table.dt
    n = numberofoption; // EjsS Model.Variables.Var Table.n
    x = [0,1,2,3]; // EjsS Model.Variables.Var Table.x
    y = [5,5,5,5]; // EjsS Model.Variables.Var Table.y
    vy = [Math.max(Math.random(),0.5),Math.max(Math.random(),0.5),Math.max(Math.random(),0.5),Math.max(Math.random(),0.5)]; // EjsS Model.Variables.Var Table.vy
    textanswer = ["Heist","Right","Kite","Height"]; // EjsS Model.Variables.Var Table.textanswer
    text = ""; // EjsS Model.Variables.Var Table.text
    vocabaudio = 0; // EjsS Model.Variables.Var Table.vocabaudio
  });

  _model.addToReset(function() {
    xc = 0; // EjsS Model.Variables.Var Table 2.xc
    yc = 0.5; // EjsS Model.Variables.Var Table 2.yc
    separation = 10; // EjsS Model.Variables.Var Table 2.separation
  });

  _model.addToReset(function() {
    score = 0; // EjsS Model.Variables.game.score
    correct = 0; // EjsS Model.Variables.game.correct
    notrynumber = 0; // EjsS Model.Variables.game.notrynumber
  });

  _model.addToReset(function() {
    kheight = 0.96; // EjsS Model.Variables.height.kheight
  });

  if (_inputParameters) {
    _inputParameters = _model.parseInputParameters(_inputParameters);
    if (_inputParameters) _model.addToReset(function() { _model._readParameters(_inputParameters); });
  }

  _model.addToReset(function() {
    _privateOdesList=[];
    _ODEi_evolution1 = _ODE_evolution1();
    _privateOdesList.push(_ODEi_evolution1);
  });

  _model.addToReset(function() {
    _model.setAutoplay(false);
    _model.setPauseOnPageExit(true);
    _model.setFPS(20);
    _model.setStepsPerDisplay(1);
  });

  //https://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array  // > CustomCode.shuttlearray:1
  /**  // > CustomCode.shuttlearray:2
   * Randomize array element order in-place.  // > CustomCode.shuttlearray:3
   * Using Durstenfeld shuffle algorithm.  // > CustomCode.shuttlearray:4
   */  // > CustomCode.shuttlearray:5
  function shuffleArray(array) {  // > CustomCode.shuttlearray:6
      for (var i = array.length - 1; i > 0; i--) {  // > CustomCode.shuttlearray:7
          var j = Math.floor(Math.random() * (i + 1));  // > CustomCode.shuttlearray:8
          var temp = array[i];  // > CustomCode.shuttlearray:9
          array[i] = array[j];  // > CustomCode.shuttlearray:10
          array[j] = temp;  // > CustomCode.shuttlearray:11
      }  // > CustomCode.shuttlearray:12
  }  // > CustomCode.shuttlearray:13

  // copy this custom function  // > CustomCode.sound:1
  // in iOS need to add speech to the play button as On iOS the API works but must be triggered by a user action callback, like a response to a tap event, to provide a better experience to users and avoid unexpected sounds out of your phone  // > CustomCode.sound:2
  function speech (option) {  // > CustomCode.sound:3
  // allow code to run in Student Learning Space   // > CustomCode.sound:4
  var isCordova = (!!this.parent.cordova || !!window.cordova);  // > CustomCode.sound:5
  if(isCordova) { // check it is running in Android or iOS  // > CustomCode.sound:6
         // parent.TTS.speak({text:option,locale:'zh-CN'});  // > CustomCode.sound:7
  	parent.TTS.speak({text:option,locale:'us-EN'});  // > CustomCode.sound:8
  	// parent.TTS.speak({text:option,locale:'en-US'});  // > CustomCode.sound:9
  } else {  // > CustomCode.sound:10
    var msg = new SpeechSynthesisUtterance(option);  // > CustomCode.sound:11
    //https://stackoverflow.com/questions/43983845/speechsynthesis-api-for-chinese-firefox  // > CustomCode.sound:12
    // Set the text.  // > CustomCode.sound:13
  	//msg.text = option;   // > CustomCode.sound:14
  	//https://forums.developer.apple.com/message/323564#323564  // > CustomCode.sound:15
  	// comment out the next 2 lines for english  // > CustomCode.sound:16
  //msg.voice = speechSynthesis.getVoices().filter(function(voice) { return voice.name == 'Ting-Ting'; })[0];  // > CustomCode.sound:17
  //msg.lang = 'zh-CH'; // need for android?  // > CustomCode.sound:18
  msg.lang = 'us-EN'; // need for android?  // > CustomCode.sound:19
  //https://flaviocopes.com/speech-synthesis-api/  // > CustomCode.sound:20
  //debug  // > CustomCode.sound:21
  //console.log(`Voices #: ${speechSynthesis.getVoices().length}`)  // > CustomCode.sound:22
  //speechSynthesis.getVoices().forEach(voice => {  // > CustomCode.sound:23
  // console.log(voice.name, voice.lang)  // > CustomCode.sound:24
  //})  // > CustomCode.sound:25
  //debug  // > CustomCode.sound:26
  // Queue this utterance.  // > CustomCode.sound:27
  window.speechSynthesis.speak(msg);  // > CustomCode.sound:28
  }  // > CustomCode.sound:29
  }  // > CustomCode.sound:30

  // code to be copied to EJSS source code under Custom and used in drawingPanel3D and plottingPanel2D  // > CustomCode.changeOrientation:1
  // address the problem is height difference is iOS app , epub, and Firefox  // > CustomCode.changeOrientation:2
  // user need to change only k and kepub  // > CustomCode.changeOrientation:3
  // copy %changeOrientation()% into the Height Field of drawingPanel3D and plottingPanel2D  // > CustomCode.changeOrientation:4
  // _view.plottingPanel.getGraphics().setHeight(changeOrientation(0.85));  // > CustomCode.changeOrientation:5
  function changeOrientation(kheight) {  // > CustomCode.changeOrientation:6
     // > CustomCode.changeOrientation:7
  var k =0.90 ; // k control height 1 is for full screen, 0.9 shorten etc  // > CustomCode.changeOrientation:8
  var kapple =0.90 // control apple app height  // > CustomCode.changeOrientation:9
  var kepub =0.90 ;  // > CustomCode.changeOrientation:10
  // check platform for Apps  // > CustomCode.changeOrientation:11
  try { // allow code to run in Student Learning Space   // > CustomCode.changeOrientation:12
    var iOSapp =  (typeof parent.device != 'undefined' && parent.device.platform == "iOS");  // > CustomCode.changeOrientation:13
    var Androidapp = (typeof parent.device != 'undefined' && parent.device.platform == "Android");  // > CustomCode.changeOrientation:14
  } catch(e) {  // > CustomCode.changeOrientation:15
    var iOSapp = false;  // > CustomCode.changeOrientation:16
    var Androidapp = false;  // > CustomCode.changeOrientation:17
  }  // > CustomCode.changeOrientation:18
  // check platform for web browsers  // > CustomCode.changeOrientation:19
  var iOS =/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;  // > CustomCode.changeOrientation:20
  var iPad =/iPad/.test(navigator.userAgent) && !window.MSStream;  // > CustomCode.changeOrientation:21
  var iPhone = /iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;  // > CustomCode.changeOrientation:22
  var Android= /Android|android/i.test(navigator.userAgent);  // > CustomCode.changeOrientation:23
  //navigator  // > CustomCode.changeOrientation:24
  var Firefox = navigator.userAgent.indexOf("Firefox") != -1;  // > CustomCode.changeOrientation:25
     // > CustomCode.changeOrientation:26
  switch (window.orientation) { // using window.orientation as deciding factor  // > CustomCode.changeOrientation:27
    case 0:  // > CustomCode.changeOrientation:28
    case 180:  // > CustomCode.changeOrientation:29
      this.screenOrientation = 'portrait';  // > CustomCode.changeOrientation:30
      if (iOSapp){ // does not seems to work  // > CustomCode.changeOrientation:31
          // > CustomCode.changeOrientation:32
        return window.screen.height*kapple;  //0.1 for app and 0.1 for nonfullscreenapp    // > CustomCode.changeOrientation:33
        // > CustomCode.changeOrientation:34
      }  // > CustomCode.changeOrientation:35
      else if (_isEPub){ // does not seems to work  // > CustomCode.changeOrientation:36
        //   return Math.max(window.screen.width,window.screen.height)*0.9;  // > CustomCode.changeOrientation:37
        return window.innerHeight*kepub;  //0.1 for app and 0.1 for nonfullscreenapp    // > CustomCode.changeOrientation:38
        // return window.screen.height;  // > CustomCode.changeOrientation:39
        //  return window.innerHeight;  // > CustomCode.changeOrientation:40
        // return document.documentElement.clientHeight;  // > CustomCode.changeOrientation:41
      }  // > CustomCode.changeOrientation:42
       // > CustomCode.changeOrientation:43
      else {  // > CustomCode.changeOrientation:44
       return window.innerHeight*kheight;  // > CustomCode.changeOrientation:45
        //return 100*k+"vh";  // > CustomCode.changeOrientation:46
      }  // > CustomCode.changeOrientation:47
      break;  // > CustomCode.changeOrientation:48
    case 90:  // > CustomCode.changeOrientation:49
    case -90:  // > CustomCode.changeOrientation:50
      this.screenOrientation = 'landscape';  // > CustomCode.changeOrientation:51
     // > CustomCode.changeOrientation:52
      if (iOSapp){ // App  // > CustomCode.changeOrientation:53
        return window.screen.width*kapple;    // > CustomCode.changeOrientation:54
        // return window.screen.height;  // > CustomCode.changeOrientation:55
        //  return window.innerHeight;  // > CustomCode.changeOrientation:56
        //  return document.documentElement.clientHeight;  // > CustomCode.changeOrientation:57
      }  // > CustomCode.changeOrientation:58
      else if (_isEPub){ // does not seems to work  // > CustomCode.changeOrientation:59
        //   return Math.max(window.screen.width,window.screen.height)*0.9;  // > CustomCode.changeOrientation:60
        return window.innerHeight*kepub;  //0.1 for app and 0.1 for nonfullscreenapp    // > CustomCode.changeOrientation:61
        // return window.screen.height;  // > CustomCode.changeOrientation:62
        //  return window.innerHeight;  // > CustomCode.changeOrientation:63
        // return document.documentElement.clientHeight;  // > CustomCode.changeOrientation:64
      }  // > CustomCode.changeOrientation:65
       // > CustomCode.changeOrientation:66
      else {  // > CustomCode.changeOrientation:67
        return window.innerHeight*kheight;  // > CustomCode.changeOrientation:68
        //return 100*k+"vh"; // safari produce error  // > CustomCode.changeOrientation:69
        }  // > CustomCode.changeOrientation:70
      break;  // > CustomCode.changeOrientation:71
    default:  // > CustomCode.changeOrientation:72
      this.screenOrientation = 'unknown';  // > CustomCode.changeOrientation:73
      //       return (iPad)?""+(window.screen.width+window.screen.height)*0.4:((iPhone)?""+window.screen.width:_view._format(window.innerHeight*0.9,"0"));  // > CustomCode.changeOrientation:74
       if (Firefox){  // > CustomCode.changeOrientation:75
        return window.innerHeight*k;// number as of 20180831 Firefox does not support vh yet so need a separate line to handle  // > CustomCode.changeOrientation:76
        }  // > CustomCode.changeOrientation:77
     //   else if (iOS&&(window.orientation==0)||(window.orientation==180)){  // > CustomCode.changeOrientation:78
     //   return  window.screen.height*k;// number as of 20180831 Firefox does not support vh yet so need a separate line to handle  // > CustomCode.changeOrientation:79
     //   }  // > CustomCode.changeOrientation:80
      //  else if (iOS&&(window.orientation==90)||(window.orientation==-90)){  // > CustomCode.changeOrientation:81
     //   return  window.screen.width*k;// number as of 20180831 Firefox does not support vh yet so need a separate line to handle  // > CustomCode.changeOrientation:82
     //   }  // > CustomCode.changeOrientation:83
        else {  // > CustomCode.changeOrientation:84
        //alert();  // > CustomCode.changeOrientation:85
        // return 100*k+"%"; // work on fullscreen works in EJSS6.0beta  // > CustomCode.changeOrientation:86
          //  works in EjsS_5.3_180131  // > CustomCode.changeOrientation:87
        return  window.innerHeight*kheight; // work on panel   // > CustomCode.changeOrientation:88
           // > CustomCode.changeOrientation:89
  }  // > CustomCode.changeOrientation:90
  }  // > CustomCode.changeOrientation:91
     // > CustomCode.changeOrientation:92
  }  // > CustomCode.changeOrientation:93

  //https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Using_full_screen_mode  // > CustomCode.togglefullscreen:1
  // does not work for iOS   // > CustomCode.togglefullscreen:2
  /*jslint browser:true */  // > CustomCode.togglefullscreen:3
  function toggleFullScreen() {  // > CustomCode.togglefullscreen:4
    if (!document.fullscreenElement &&    // alternative standard method  // > CustomCode.togglefullscreen:5
        !document.mozFullScreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement ) {  // current working methods  // > CustomCode.togglefullscreen:6
      if (document.documentElement.requestFullscreen) {  // > CustomCode.togglefullscreen:7
        document.documentElement.requestFullscreen();  // > CustomCode.togglefullscreen:8
      } else if (document.documentElement.msRequestFullscreen) {  // > CustomCode.togglefullscreen:9
        document.documentElement.msRequestFullscreen();  // > CustomCode.togglefullscreen:10
      } else if (document.documentElement.mozRequestFullScreen) {  // > CustomCode.togglefullscreen:11
        document.documentElement.mozRequestFullScreen();  // > CustomCode.togglefullscreen:12
      } else if (document.documentElement.webkitRequestFullscreen) {  // > CustomCode.togglefullscreen:13
        document.documentElement.webkitRequestFullscreen();  // > CustomCode.togglefullscreen:14
      }  // > CustomCode.togglefullscreen:15
    } else {  // > CustomCode.togglefullscreen:16
      if (document.exitFullscreen) {  // > CustomCode.togglefullscreen:17
        document.exitFullscreen();  // > CustomCode.togglefullscreen:18
      } else if (document.msExitFullscreen) {  // > CustomCode.togglefullscreen:19
        document.msExitFullscreen();  // > CustomCode.togglefullscreen:20
      } else if (document.mozCancelFullScreen) {  // > CustomCode.togglefullscreen:21
        document.mozCancelFullScreen();  // > CustomCode.togglefullscreen:22
      } else if (document.webkitExitFullscreen) {  // > CustomCode.togglefullscreen:23
        document.webkitExitFullscreen();  // > CustomCode.togglefullscreen:24
      }  // > CustomCode.togglefullscreen:25
    }  // > CustomCode.togglefullscreen:26
  }  // > CustomCode.togglefullscreen:27

  _model.addToInitialization(function() {
    if (!__pagesEnabled["teacher key"]) return;
    // question counted as 4  // > Initialization.teacher key:1
    answerstringarray=[["感到","及时","前来","各式"],["苦苦","草草","大开","人才"],["支持","各式","感到","苦苦"],["及时","前来","大开","人才"],["前来","各式","感到","苦苦"],["大开","人才","及时","支持"],["人才","感到","苦苦","各式"],["各式","及时","前来","人才"],["","","",""]]; // last option round for blank  // > Initialization.teacher key:2
    catchanswerarray=[["气愤"],["哀求"],["鼓励"],["阻止"],["探望"],["眼界"],["培养"],["各样"],[""]]; // last option round for blank  // > Initialization.teacher key:3
  });

  _model.addToInitialization(function() {
    if (!__pagesEnabled["init"]) return;
    //_view.plottingPanel.getGraphics().setHeight(changeOrientation(0.95));  // > Initialization.init:1
  });

  _model.addToInitialization(function() {
    if (!__pagesEnabled["shuttle"]) return;
    shuffleArray(x);  // > Initialization.shuttle:1
  });

  _model.addToInitialization(function() {
    if (!__pagesEnabled["introduction"]) return;
    _tools.showOkDialog("Catch the odd rhyme or rhyming couplet to save yourself from the falling bricks!<br/>",function(){   // > Initialization.introduction:1
          _play();   // > Initialization.introduction:2
        });  // > Initialization.introduction:3
    document.getElementById(".myBoxPanelOk").style.fontSize = "2vw";  // > Initialization.introduction:4
    document.getElementById(".myBoxPanelOk").style.color = "Black";  // > Initialization.introduction:5
    document.getElementById(".myBoxPanelOk").style.width = "450px";  // > Initialization.introduction:6
    document.getElementById(".myBoxPanelOk").style.left = "40%";  // > Initialization.introduction:7
    document.getElementById(".myBoxPanelOk").style.background = "white";  // > Initialization.introduction:8
    document.getElementById(".myBoxPanelOk").style.border = "white";  // > Initialization.introduction:9
  });

  _model.addToInitialization(function() {
    if (!__pagesEnabled["undefined"]) return;
    if (log==undefined){  // > Initialization.undefined:1
      log="";  // > Initialization.undefined:2
      }  // > Initialization.undefined:3
  });

  _model.addToInitialization(function() {
    if (!__pagesEnabled["message"]) return;
    if (_isMobile){  // > Initialization.message:1
      //do nothing  // > Initialization.message:2
      }  // > Initialization.message:3
        // > Initialization.message:4
      else{  // > Initialization.message:5
        // copy this into the initialization  // > Initialization.message:6
    // make the font bigger  // > Initialization.message:7
    _view.plottingPanel.getMessageDecoration("TL").getFont().setFontSize("1vw");  // > Initialization.message:8
    _view.plottingPanel.getMessageDecoration("TR").getFont().setFontSize("1vw");  // > Initialization.message:9
    _view.plottingPanel.getMessageDecoration("BL").getFont().setFontSize("1vw");  // > Initialization.message:10
    _view.plottingPanel.getMessageDecoration("BR").getFont().setFontSize("1vw");  // > Initialization.message:11
    _view.plottingPanel.getMessageDecoration("TL").getColor().setColor("white");  // > Initialization.message:12
    _view.plottingPanel.getMessageDecoration("TR").getColor().setColor("white");  // > Initialization.message:13
    _view.plottingPanel.getMessageDecoration("BL").getColor().setColor("white");  // > Initialization.message:14
    _view.plottingPanel.getMessageDecoration("BR").getColor().setColor("white");  // > Initialization.message:15
        }  // > Initialization.message:16
  });

  _model.addToInitialization(function() {
    _initializeSolvers();
  });

  _model.addToEvolution(function() {
    if (!__pagesEnabled["Evol Page"]) return;
    _ODEi_evolution1.step();
  });

  _model.addToFixedRelations(function() { _isPaused = _model.isPaused(); _isPlaying = _model.isPlaying(); });

  _model.addToFixedRelations(function() { _isPaused = _model.isPaused(); _isPlaying = _model.isPlaying(); });

  function _initializeSolvers() {
    for (var i=0,n=_privateOdesList.length; i<n; i++) _privateOdesList[i].initializeSolver();
  }

  function _automaticResetSolvers() {
    for (var i=0,n=_privateOdesList.length; i<n; i++) _privateOdesList[i].automaticResetSolver();
  }

  _model.resetSolvers = function() {
    for (var i=0,n=_privateOdesList.length; i<n; i++) _privateOdesList[i].resetSolver();
  };

  _getODE = function (_odeName) {
    if (_odeName=="Evol Page") return _ODEi_evolution1;
    return null;
  }

  function _getEventSolver(_odeName) {
    var ode = _getODE(_odeName);
    if (ode===null) return null;
    return ode.getEventSolver();
  }

  function _setSolverClass(_odeName, _engine) {
    var ode = _getODE(_odeName);
    if (ode===null) return;
    if (!_engine.setODE) {
      var classname = _engine.toLowerCase();
      if      (classname.indexOf("boga")>=0)   _engine = EJSS_ODE_SOLVERS.bogackiShampine23;
      else if (classname.indexOf("cash")>=0)   _engine = EJSS_ODE_SOLVERS.cashKarp45;
      else if (classname.indexOf("dopri5")>=0) _engine = EJSS_ODE_SOLVERS.dopri5;
      else if (classname.indexOf("dopri8")>=0) _engine = EJSS_ODE_SOLVERS.dopri853;
      else if (classname.indexOf("richa")>=0)  _engine = EJSS_ODE_SOLVERS.eulerRichardson;
      else if (classname.indexOf("euler")>=0)  _engine = EJSS_ODE_SOLVERS.euler;
      else if (classname.indexOf("fehlberg87")>=0) _engine = EJSS_ODE_SOLVERS.fehlberg87;
      else if (classname.indexOf("fehlberg8")>=0)  _engine = EJSS_ODE_SOLVERS.fehlberg8;
      else if (classname.indexOf("radau")>=0)   _engine = EJSS_ODE_SOLVERS.radau5;
      else if (classname.indexOf("runge")>=0)  _engine = EJSS_ODE_SOLVERS.rungeKutta4;
      else if (classname.indexOf("rk4")>=0)    _engine = EJSS_ODE_SOLVERS.rungeKutta4;
      else if (classname.indexOf("verlet")>=0) _engine = EJSS_ODE_SOLVERS.velocityVerlet;
    }
    if (_engine) ode.setSolverClass(_engine);
  }

  function _ODE_evolution1() {
    var __odeSelf = {};
    var __eventSolver;
    var __solverClass = EJSS_ODE_SOLVERS.rungeKutta4;
    var __state=[];
    var _ODE_evolution1_Event1;
    var _ODE_evolution1_Event2;
    var _ODE_evolution1_Event3;
    var _ODE_evolution1_Event4;
    var _ODE_evolution1_Event5;
    var _ODE_evolution1_Event6;
    var _ODE_evolution1_Event7;
    var _ODE_evolution1_Event8;
    var __ignoreErrors=false;
    var __mustInitialize=true;
    var __isEnabled=true;
    var __mustUserReinitialize=false;
    var __mustReinitialize=true;

    var _xLength;
    var _yLength;

    __odeSelf._getOdeVars = function (){ return["x","y","t"]};

    __odeSelf.setSolverClass = function(__aSolverClass) {
      __solverClass = __aSolverClass;
      __instantiateSolver();
    };

    function __instantiateSolver() {
      __state=[];
      _xLength = x.length;
      _yLength = y.length;
      __pushState();
      __eventSolver = EJSS_ODE_SOLVERS.interpolatorEventSolver(__solverClass(),__odeSelf);
      __mustInitialize = true;
    }

    __odeSelf.setEnabled = function(_enabled) { __isEnabled = _enabled; };

    __odeSelf.getIndependentVariableValue = function() { return __eventSolver.getIndependentVariableValue(); };

    __odeSelf.getInternalStepSize = function() { return __eventSolver.getInternalStepSize(); };

    __odeSelf.isAccelerationIndependentOfVelocity = function() { return false; };

    __odeSelf.initializeSolver = function() {
      if (__arraysChanged()) { __instantiateSolver(); __odeSelf.initializeSolver(); return; }
      __pushState();
      __eventSolver.initialize(dt);
      __eventSolver.setBestInterpolation(false);
      __eventSolver.setMaximumInternalSteps(10000);
      __eventSolver.removeAllEvents();
      if (__pagesEnabled["Event"]) __eventSolver.addEvent(_ODE_evolution1_Event1());
      if (__pagesEnabled["Event 2"]) __eventSolver.addEvent(_ODE_evolution1_Event2());
      if (__pagesEnabled["Event 3"]) __eventSolver.addEvent(_ODE_evolution1_Event3());
      if (__pagesEnabled["Event 4"]) __eventSolver.addEvent(_ODE_evolution1_Event4());
      if (__pagesEnabled["Collisioncorrect0"]) __eventSolver.addEvent(_ODE_evolution1_Event5());
      if (__pagesEnabled["Collision 2"]) __eventSolver.addEvent(_ODE_evolution1_Event6());
      if (__pagesEnabled["Collision 2 2"]) __eventSolver.addEvent(_ODE_evolution1_Event7());
      if (__pagesEnabled["Collision 2 2 2"]) __eventSolver.addEvent(_ODE_evolution1_Event8());
      for(k in userEvents1){__eventSolver.addEvent(userEvents1[k]);}
      __eventSolver.setEstimateFirstStep(false);
      __eventSolver.setEnableExceptions(false);
      __eventSolver.setTolerances(0.00001,0.00001);
      __mustReinitialize = true;
      __mustInitialize = false;
    };

    function __pushState() {
      // Copy our variables to __state[] 
        var __j=0;
        var __n=0;
        var __cIn=0;
      if (!__mustReinitialize)
        for (__j=0,__n=__cIn; __j<_xLength; __j++)
           if (__state[__n++]!=x[__j]) { __mustReinitialize = true; break; }
        for (__j=0;__j<_xLength; __j++) {
          __state[__cIn++] = x[__j];
        }
      if (!__mustReinitialize)
        for (__j=0,__n=__cIn; __j<_yLength; __j++)
           if (__state[__n++]!=y[__j]) { __mustReinitialize = true; break; }
        for (__j=0;__j<_yLength; __j++) {
          __state[__cIn++] = y[__j];
        }
        if (__state[__cIn]!=t) __mustReinitialize = true;
        __state[__cIn++] = t;
    }

    function __arraysChanged () {
      if (_xLength != x.length) return true;
      if (_yLength != y.length) return true;
      return false;
    }

    __odeSelf.getEventSolver = function() {
      return __eventSolver;
    };

    __odeSelf.resetSolver = function() {
      __mustUserReinitialize = true;
    };

    __odeSelf.automaticResetSolver = function() {
      __mustReinitialize = true;
    };

    function __errorAction () {
      if (__ignoreErrors) return;
      console.log (__eventSolver.getErrorMessage());
      _pause();
      // Make sure the solver is reinitialized;
      __mustReinitialize = true;
    }

    __odeSelf.step = function() { return __privateStep(false); };

    __odeSelf.solverStep = function() { return __privateStep(true); };

    function __privateStep(__takeMaximumStep) {
      if (!__isEnabled) return 0;
      if (dt===0) return 0;
      if (__mustInitialize) __odeSelf.initializeSolver();
      if (__arraysChanged()) { __instantiateSolver(); __odeSelf.initializeSolver(); }
      __eventSolver.setStepSize(dt);
      __eventSolver.setInternalStepSize(dt);
      __eventSolver.setMaximumInternalSteps(10000);
      __eventSolver.setTolerances(0.00001,0.00001);
      __pushState();
      if (__mustUserReinitialize) { 
        __eventSolver.userReinitialize();
        __mustUserReinitialize = false;
        __mustReinitialize = false;
        if (__eventSolver.getErrorCode()!=EJSS_ODE_SOLVERS.ERROR.NO_ERROR) __errorAction();
      }
      else if (__mustReinitialize) { 
        __eventSolver.reinitialize();
        __mustReinitialize = false;
        if (__eventSolver.getErrorCode()!=EJSS_ODE_SOLVERS.ERROR.NO_ERROR) __errorAction();
      }
      var __stepTaken = __takeMaximumStep ? __eventSolver.maxStep() : __eventSolver.step();
      // Extract our variables from __state
        var __i=0;
        var __cOut=0;
        for (__i=0;__i<_xLength; __i++) {
          x[__i] = __state[__cOut++];
        }
        for (__i=0;__i<_yLength; __i++) {
          y[__i] = __state[__cOut++];
        }
        t = __state[__cOut++];
      // Check for error
      if (__eventSolver.getErrorCode()!=EJSS_ODE_SOLVERS.ERROR.NO_ERROR) __errorAction();
      return __stepTaken;
    }

    __odeSelf.getState = function() { return __state; };

    __odeSelf.getRate = function(_aState,_aRate) {
      // Extract our variables from _aState
        var __i=0;
        var __cOut=0;
        var x = [];
        for (__i=0;__i<_xLength; __i++) {
          x[__i] = _aState[__cOut++];
        }
        var y = [];
        for (__i=0;__i<_yLength; __i++) {
          y[__i] = _aState[__cOut++];
        }
        var t = _aState[__cOut++];
      // Compute the rate
        var __cRate=0;
        var i;
        for (i=0;i<_xLength;i++) {
          _aRate[__cRate++] = Array.isArray(0) ? 0[i] : 0; // Rate for ODE: Evol Page:x
        }
        for (i=0;i<_yLength;i++) {
          _aRate[__cRate++] = Array.isArray(-vy[i]) ? -vy[i][i] : -vy[i]; // Rate for ODE: Evol Page:y
        }
        _aRate[__cRate++] = 1; // independent variable
        return _aRate;
    }; //end of getRate

    __odeSelf._addEvent = function(userCondition,userAction,eventType,eventMethod,maxIter,eventTolerance,endAtEvent){
    var User_Event = function (userCondition,userAction,eventType,eventMethod,maxIter,eventTolerance,endAtEvent) {
      var _eventSelf = {};

      _eventSelf.getTypeOfEvent = function() { return eventType; };

      _eventSelf.getRootFindingMethod = function() { return eventMethod; };

      _eventSelf.getMaxIterations = function() { return maxIter; };

      _eventSelf.getTolerance = function() { return eventTolerance; };

      _eventSelf.evaluate = function(_aState) { 
      // Extract our variables from _aState
        var __i=0;
        var __cOut=0;
        var x = [];
        for (__i=0;__i<_xLength; __i++) {
          x[__i] = _aState[__cOut++];
        }
        var y = [];
        for (__i=0;__i<_yLength; __i++) {
          y[__i] = _aState[__cOut++];
        }
        var t = _aState[__cOut++];
      return eval(userCondition);
      };

      _eventSelf.action = function() { 
      // Extract our variables from __state
        var __i=0;
        var __cOut=0;
        for (__i=0;__i<_xLength; __i++) {
          x[__i] = __state[__cOut++];
        }
        for (__i=0;__i<_yLength; __i++) {
          y[__i] = __state[__cOut++];
        }
        t = __state[__cOut++];
        var _returnValue = __userDefinedAction();
      // Copy our variables to __state[] 
        var __j=0;
        var __n=0;
        var __cIn=0;
        for (__j=0;__j<_xLength; __j++) {
          __state[__cIn++] = x[__j];
        }
        for (__j=0;__j<_yLength; __j++) {
          __state[__cIn++] = y[__j];
        }
        __state[__cIn++] = t;
        return _returnValue;
      };

      function __userDefinedAction() {
        if (undefined != functions) eval(functions.toString());
        eval(userAction);
        return endAtEvent;
      }

      return _eventSelf;
    }; // End of event

   userEvents1.push(User_Event(userCondition,userAction,eventType,eventMethod,maxIter,eventTolerance,endAtEvent));
   }

    _ODE_evolution1_Event1 = function() {
      var _eventSelf = {};

      _eventSelf.getTypeOfEvent = function() { return EJSS_ODE_SOLVERS.EVENT_TYPE.STATE_EVENT; };

      _eventSelf.getRootFindingMethod = function() { return EJSS_ODE_SOLVERS.EVENT_METHOD.BISECTION; };

      _eventSelf.getMaxIterations = function() { return 100; };

      _eventSelf.getTolerance = function() { return 1.0e-5; };

      _eventSelf.evaluate = function(_aState) { 
      // Extract our variables from _aState
        var __i=0;
        var __cOut=0;
        var x = [];
        for (__i=0;__i<_xLength; __i++) {
          x[__i] = _aState[__cOut++];
        }
        var y = [];
        for (__i=0;__i<_yLength; __i++) {
          y[__i] = _aState[__cOut++];
        }
        var t = _aState[__cOut++];
        return y[0]-0;  // > Event zero-condition for page Evol Page:1
        //type set to state seem to solve a bug of disappearing  // > Event zero-condition for page Evol Page:2
      };

      _eventSelf.action = function() { 
      // Extract our variables from __state
        var __i=0;
        var __cOut=0;
        for (__i=0;__i<_xLength; __i++) {
          x[__i] = __state[__cOut++];
        }
        for (__i=0;__i<_yLength; __i++) {
          y[__i] = __state[__cOut++];
        }
        t = __state[__cOut++];
        var _returnValue = __userDefinedAction();
      // Copy our variables to __state[] 
        var __j=0;
        var __n=0;
        var __cIn=0;
        for (__j=0;__j<_xLength; __j++) {
          __state[__cIn++] = x[__j];
        }
        for (__j=0;__j<_yLength; __j++) {
          __state[__cIn++] = y[__j];
        }
        __state[__cIn++] = t;
        return _returnValue;
      };

      function __userDefinedAction() {
        y[0]=6;  // > Event action for page Evol Page:1
        notrynumber = notrynumber+1;  // > Event action for page Evol Page:2
        if (notrynumber%4==0) {  // > Event action for page Evol Page:3
          score=score-0.5;  // > Event action for page Evol Page:4
        log = log+"\n"+"Error"+text+"❓";  // > Event action for page Evol Page:5
        }  // > Event action for page Evol Page:6
        return true;
      }

      return _eventSelf;
    }; // End of event

    _ODE_evolution1_Event2 = function() {
      var _eventSelf = {};

      _eventSelf.getTypeOfEvent = function() { return EJSS_ODE_SOLVERS.EVENT_TYPE.STATE_EVENT; };

      _eventSelf.getRootFindingMethod = function() { return EJSS_ODE_SOLVERS.EVENT_METHOD.BISECTION; };

      _eventSelf.getMaxIterations = function() { return 100; };

      _eventSelf.getTolerance = function() { return 1.0e-5; };

      _eventSelf.evaluate = function(_aState) { 
      // Extract our variables from _aState
        var __i=0;
        var __cOut=0;
        var x = [];
        for (__i=0;__i<_xLength; __i++) {
          x[__i] = _aState[__cOut++];
        }
        var y = [];
        for (__i=0;__i<_yLength; __i++) {
          y[__i] = _aState[__cOut++];
        }
        var t = _aState[__cOut++];
        return y[1]-0;  // > Event zero-condition for page Evol Page:1
      };

      _eventSelf.action = function() { 
      // Extract our variables from __state
        var __i=0;
        var __cOut=0;
        for (__i=0;__i<_xLength; __i++) {
          x[__i] = __state[__cOut++];
        }
        for (__i=0;__i<_yLength; __i++) {
          y[__i] = __state[__cOut++];
        }
        t = __state[__cOut++];
        var _returnValue = __userDefinedAction();
      // Copy our variables to __state[] 
        var __j=0;
        var __n=0;
        var __cIn=0;
        for (__j=0;__j<_xLength; __j++) {
          __state[__cIn++] = x[__j];
        }
        for (__j=0;__j<_yLength; __j++) {
          __state[__cIn++] = y[__j];
        }
        __state[__cIn++] = t;
        return _returnValue;
      };

      function __userDefinedAction() {
        y[1]=6;  // > Event action for page Evol Page:1
        notrynumber = notrynumber+1;  // > Event action for page Evol Page:2
        if (notrynumber%4==0) {  // > Event action for page Evol Page:3
          score=score-0.5;  // > Event action for page Evol Page:4
        log = log+"\n"+"Error"+text+"❓";  // > Event action for page Evol Page:5
        }  // > Event action for page Evol Page:6
        return true;
      }

      return _eventSelf;
    }; // End of event

    _ODE_evolution1_Event3 = function() {
      var _eventSelf = {};

      _eventSelf.getTypeOfEvent = function() { return EJSS_ODE_SOLVERS.EVENT_TYPE.STATE_EVENT; };

      _eventSelf.getRootFindingMethod = function() { return EJSS_ODE_SOLVERS.EVENT_METHOD.BISECTION; };

      _eventSelf.getMaxIterations = function() { return 100; };

      _eventSelf.getTolerance = function() { return 1.0e-5; };

      _eventSelf.evaluate = function(_aState) { 
      // Extract our variables from _aState
        var __i=0;
        var __cOut=0;
        var x = [];
        for (__i=0;__i<_xLength; __i++) {
          x[__i] = _aState[__cOut++];
        }
        var y = [];
        for (__i=0;__i<_yLength; __i++) {
          y[__i] = _aState[__cOut++];
        }
        var t = _aState[__cOut++];
        return y[2]-0;  // > Event zero-condition for page Evol Page:1
      };

      _eventSelf.action = function() { 
      // Extract our variables from __state
        var __i=0;
        var __cOut=0;
        for (__i=0;__i<_xLength; __i++) {
          x[__i] = __state[__cOut++];
        }
        for (__i=0;__i<_yLength; __i++) {
          y[__i] = __state[__cOut++];
        }
        t = __state[__cOut++];
        var _returnValue = __userDefinedAction();
      // Copy our variables to __state[] 
        var __j=0;
        var __n=0;
        var __cIn=0;
        for (__j=0;__j<_xLength; __j++) {
          __state[__cIn++] = x[__j];
        }
        for (__j=0;__j<_yLength; __j++) {
          __state[__cIn++] = y[__j];
        }
        __state[__cIn++] = t;
        return _returnValue;
      };

      function __userDefinedAction() {
        y[2]=6;  // > Event action for page Evol Page:1
        notrynumber = notrynumber+1;  // > Event action for page Evol Page:2
        if (notrynumber%4==0) {  // > Event action for page Evol Page:3
          score=score-0.5;  // > Event action for page Evol Page:4
        log = log+"\n"+"Error"+text+"❓";  // > Event action for page Evol Page:5
        }  // > Event action for page Evol Page:6
        return true;
      }

      return _eventSelf;
    }; // End of event

    _ODE_evolution1_Event4 = function() {
      var _eventSelf = {};

      _eventSelf.getTypeOfEvent = function() { return EJSS_ODE_SOLVERS.EVENT_TYPE.STATE_EVENT; };

      _eventSelf.getRootFindingMethod = function() { return EJSS_ODE_SOLVERS.EVENT_METHOD.BISECTION; };

      _eventSelf.getMaxIterations = function() { return 100; };

      _eventSelf.getTolerance = function() { return 1.0e-5; };

      _eventSelf.evaluate = function(_aState) { 
      // Extract our variables from _aState
        var __i=0;
        var __cOut=0;
        var x = [];
        for (__i=0;__i<_xLength; __i++) {
          x[__i] = _aState[__cOut++];
        }
        var y = [];
        for (__i=0;__i<_yLength; __i++) {
          y[__i] = _aState[__cOut++];
        }
        var t = _aState[__cOut++];
        return y[3]-0;  // > Event zero-condition for page Evol Page:1
      };

      _eventSelf.action = function() { 
      // Extract our variables from __state
        var __i=0;
        var __cOut=0;
        for (__i=0;__i<_xLength; __i++) {
          x[__i] = __state[__cOut++];
        }
        for (__i=0;__i<_yLength; __i++) {
          y[__i] = __state[__cOut++];
        }
        t = __state[__cOut++];
        var _returnValue = __userDefinedAction();
      // Copy our variables to __state[] 
        var __j=0;
        var __n=0;
        var __cIn=0;
        for (__j=0;__j<_xLength; __j++) {
          __state[__cIn++] = x[__j];
        }
        for (__j=0;__j<_yLength; __j++) {
          __state[__cIn++] = y[__j];
        }
        __state[__cIn++] = t;
        return _returnValue;
      };

      function __userDefinedAction() {
        y[3]=6;  // > Event action for page Evol Page:1
        notrynumber = notrynumber+1;  // > Event action for page Evol Page:2
        if (notrynumber%4==0) {  // > Event action for page Evol Page:3
          score=score-0.5;  // > Event action for page Evol Page:4
        log = log+"\n"+"Error"+text+"❓";  // > Event action for page Evol Page:5
        }  // > Event action for page Evol Page:6
        return true;
      }

      return _eventSelf;
    }; // End of event

    _ODE_evolution1_Event5 = function() {
      var _eventSelf = {};

      _eventSelf.getTypeOfEvent = function() { return EJSS_ODE_SOLVERS.EVENT_TYPE.CROSSING_EVENT; };

      _eventSelf.getRootFindingMethod = function() { return EJSS_ODE_SOLVERS.EVENT_METHOD.BISECTION; };

      _eventSelf.getMaxIterations = function() { return 100; };

      _eventSelf.getTolerance = function() { return 1.0e-5; };

      _eventSelf.evaluate = function(_aState) { 
      // Extract our variables from _aState
        var __i=0;
        var __cOut=0;
        var x = [];
        for (__i=0;__i<_xLength; __i++) {
          x[__i] = _aState[__cOut++];
        }
        var y = [];
        for (__i=0;__i<_yLength; __i++) {
          y[__i] = _aState[__cOut++];
        }
        var t = _aState[__cOut++];
        separation=Math.sqrt((x[0]-xc)*(x[0]-xc)+(y[0]-yc)*(y[0]-yc)); // calculate  // > Event zero-condition for page Evol Page:1
           if(separation<0.5 ){    // > Event zero-condition for page Evol Page:2
           return 0; //   // > Event zero-condition for page Evol Page:3
        }  // > Event zero-condition for page Evol Page:4
        // event triggers if two particles collide  // > Event zero-condition for page Evol Page:5
      };

      _eventSelf.action = function() { 
      // Extract our variables from __state
        var __i=0;
        var __cOut=0;
        for (__i=0;__i<_xLength; __i++) {
          x[__i] = __state[__cOut++];
        }
        for (__i=0;__i<_yLength; __i++) {
          y[__i] = __state[__cOut++];
        }
        t = __state[__cOut++];
        var _returnValue = __userDefinedAction();
      // Copy our variables to __state[] 
        var __j=0;
        var __n=0;
        var __cIn=0;
        for (__j=0;__j<_xLength; __j++) {
          __state[__cIn++] = x[__j];
        }
        for (__j=0;__j<_yLength; __j++) {
          __state[__cIn++] = y[__j];
        }
        __state[__cIn++] = t;
        return _returnValue;
      };

      function __userDefinedAction() {
        notrynumber = 0; //reset to zero to be fair  // > Event action for page Evol Page:1
          score=score+2;  // > Event action for page Evol Page:2
          correct=correct+1;  // > Event action for page Evol Page:3
          speech(textanswer[0]+text);  // > Event action for page Evol Page:4
          log = log+"\n"+textanswer[0]+text+"✅";  // > Event action for page Evol Page:5
           // > Event action for page Evol Page:6
          _view.audio.play();  // > Event action for page Evol Page:7
        if (correct==8){  // > Event action for page Evol Page:8
            // > Event action for page Evol Page:9
          }  // > Event action for page Evol Page:10
          else{  // > Event action for page Evol Page:11
        textanswer=answerstringarray[correct]; //change 4 options  // > Event action for page Evol Page:12
        text=catchanswerarray[correct];  // > Event action for page Evol Page:13
        }  // > Event action for page Evol Page:14
        y[0]=6;  // > Event action for page Evol Page:15
        y[1]=6;  // > Event action for page Evol Page:16
        y[2]=6;  // > Event action for page Evol Page:17
        y[3]=6;  // > Event action for page Evol Page:18
        shuffleArray(x);  // > Event action for page Evol Page:19
            // > Event action for page Evol Page:20
        //alert();  // > Event action for page Evol Page:21
        if(correct==8){  // > Event action for page Evol Page:22
          _pause();  // > Event action for page Evol Page:23
          _tools.showOkDialog("Congratulations! You have survived the falling bricks. Your score is "+score+"/"+2*numberofrounds+" !");  // > Event action for page Evol Page:24
          }  // > Event action for page Evol Page:25
        return true;
      }

      return _eventSelf;
    }; // End of event

    _ODE_evolution1_Event6 = function() {
      var _eventSelf = {};

      _eventSelf.getTypeOfEvent = function() { return EJSS_ODE_SOLVERS.EVENT_TYPE.CROSSING_EVENT; };

      _eventSelf.getRootFindingMethod = function() { return EJSS_ODE_SOLVERS.EVENT_METHOD.BISECTION; };

      _eventSelf.getMaxIterations = function() { return 100; };

      _eventSelf.getTolerance = function() { return 1.0e-5; };

      _eventSelf.evaluate = function(_aState) { 
      // Extract our variables from _aState
        var __i=0;
        var __cOut=0;
        var x = [];
        for (__i=0;__i<_xLength; __i++) {
          x[__i] = _aState[__cOut++];
        }
        var y = [];
        for (__i=0;__i<_yLength; __i++) {
          y[__i] = _aState[__cOut++];
        }
        var t = _aState[__cOut++];
        separation=Math.sqrt((x[1]-xc)*(x[1]-xc)+(y[1]-yc)*(y[1]-yc));  // > Event zero-condition for page Evol Page:1
         //  if(separation-fishSize<err && vis[i] == true && vis[j] == true){  // > Event zero-condition for page Evol Page:2
           if(separation<0.25 ){  // > Event zero-condition for page Evol Page:3
             // > Event zero-condition for page Evol Page:4
           return 0;  // > Event zero-condition for page Evol Page:5
        }  // > Event zero-condition for page Evol Page:6
        //return err;  // > Event zero-condition for page Evol Page:7
        // event triggers if two particles collide  // > Event zero-condition for page Evol Page:8
      };

      _eventSelf.action = function() { 
      // Extract our variables from __state
        var __i=0;
        var __cOut=0;
        for (__i=0;__i<_xLength; __i++) {
          x[__i] = __state[__cOut++];
        }
        for (__i=0;__i<_yLength; __i++) {
          y[__i] = __state[__cOut++];
        }
        t = __state[__cOut++];
        var _returnValue = __userDefinedAction();
      // Copy our variables to __state[] 
        var __j=0;
        var __n=0;
        var __cIn=0;
        for (__j=0;__j<_xLength; __j++) {
          __state[__cIn++] = x[__j];
        }
        for (__j=0;__j<_yLength; __j++) {
          __state[__cIn++] = y[__j];
        }
        __state[__cIn++] = t;
        return _returnValue;
      };

      function __userDefinedAction() {
        score=score-1;  // > Event action for page Evol Page:1
        log = log+"\n"+textanswer[1]+text+"❌";  // > Event action for page Evol Page:2
        //alert();  // > Event action for page Evol Page:3
        return true;
      }

      return _eventSelf;
    }; // End of event

    _ODE_evolution1_Event7 = function() {
      var _eventSelf = {};

      _eventSelf.getTypeOfEvent = function() { return EJSS_ODE_SOLVERS.EVENT_TYPE.CROSSING_EVENT; };

      _eventSelf.getRootFindingMethod = function() { return EJSS_ODE_SOLVERS.EVENT_METHOD.BISECTION; };

      _eventSelf.getMaxIterations = function() { return 100; };

      _eventSelf.getTolerance = function() { return 1.0e-5; };

      _eventSelf.evaluate = function(_aState) { 
      // Extract our variables from _aState
        var __i=0;
        var __cOut=0;
        var x = [];
        for (__i=0;__i<_xLength; __i++) {
          x[__i] = _aState[__cOut++];
        }
        var y = [];
        for (__i=0;__i<_yLength; __i++) {
          y[__i] = _aState[__cOut++];
        }
        var t = _aState[__cOut++];
        separation=Math.sqrt((x[2]-xc)*(x[2]-xc)+(y[2]-yc)*(y[2]-yc));  // > Event zero-condition for page Evol Page:1
         //  if(separation-fishSize<err && vis[i] == true && vis[j] == true){  // > Event zero-condition for page Evol Page:2
           if(separation<0.25 ){  // > Event zero-condition for page Evol Page:3
             // > Event zero-condition for page Evol Page:4
           return 0;  // > Event zero-condition for page Evol Page:5
        }  // > Event zero-condition for page Evol Page:6
        //return err;  // > Event zero-condition for page Evol Page:7
        // event triggers if two particles collide  // > Event zero-condition for page Evol Page:8
      };

      _eventSelf.action = function() { 
      // Extract our variables from __state
        var __i=0;
        var __cOut=0;
        for (__i=0;__i<_xLength; __i++) {
          x[__i] = __state[__cOut++];
        }
        for (__i=0;__i<_yLength; __i++) {
          y[__i] = __state[__cOut++];
        }
        t = __state[__cOut++];
        var _returnValue = __userDefinedAction();
      // Copy our variables to __state[] 
        var __j=0;
        var __n=0;
        var __cIn=0;
        for (__j=0;__j<_xLength; __j++) {
          __state[__cIn++] = x[__j];
        }
        for (__j=0;__j<_yLength; __j++) {
          __state[__cIn++] = y[__j];
        }
        __state[__cIn++] = t;
        return _returnValue;
      };

      function __userDefinedAction() {
        score=score-1;  // > Event action for page Evol Page:1
        log = log+"\n"+textanswer[2]+text+"❌";  // > Event action for page Evol Page:2
        //alert();  // > Event action for page Evol Page:3
        return true;
      }

      return _eventSelf;
    }; // End of event

    _ODE_evolution1_Event8 = function() {
      var _eventSelf = {};

      _eventSelf.getTypeOfEvent = function() { return EJSS_ODE_SOLVERS.EVENT_TYPE.CROSSING_EVENT; };

      _eventSelf.getRootFindingMethod = function() { return EJSS_ODE_SOLVERS.EVENT_METHOD.BISECTION; };

      _eventSelf.getMaxIterations = function() { return 100; };

      _eventSelf.getTolerance = function() { return 1.0e-5; };

      _eventSelf.evaluate = function(_aState) { 
      // Extract our variables from _aState
        var __i=0;
        var __cOut=0;
        var x = [];
        for (__i=0;__i<_xLength; __i++) {
          x[__i] = _aState[__cOut++];
        }
        var y = [];
        for (__i=0;__i<_yLength; __i++) {
          y[__i] = _aState[__cOut++];
        }
        var t = _aState[__cOut++];
        separation=Math.sqrt((x[3]-xc)*(x[3]-xc)+(y[3]-yc)*(y[3]-yc));  // > Event zero-condition for page Evol Page:1
         //  if(separation-fishSize<err && vis[i] == true && vis[j] == true){  // > Event zero-condition for page Evol Page:2
           if(separation<0.25 ){  // > Event zero-condition for page Evol Page:3
             // > Event zero-condition for page Evol Page:4
           return 0;  // > Event zero-condition for page Evol Page:5
        }  // > Event zero-condition for page Evol Page:6
        //return err;  // > Event zero-condition for page Evol Page:7
        // event triggers if two particles collide  // > Event zero-condition for page Evol Page:8
      };

      _eventSelf.action = function() { 
      // Extract our variables from __state
        var __i=0;
        var __cOut=0;
        for (__i=0;__i<_xLength; __i++) {
          x[__i] = __state[__cOut++];
        }
        for (__i=0;__i<_yLength; __i++) {
          y[__i] = __state[__cOut++];
        }
        t = __state[__cOut++];
        var _returnValue = __userDefinedAction();
      // Copy our variables to __state[] 
        var __j=0;
        var __n=0;
        var __cIn=0;
        for (__j=0;__j<_xLength; __j++) {
          __state[__cIn++] = x[__j];
        }
        for (__j=0;__j<_yLength; __j++) {
          __state[__cIn++] = y[__j];
        }
        __state[__cIn++] = t;
        return _returnValue;
      };

      function __userDefinedAction() {
        score=score-1;  // > Event action for page Evol Page:1
        log = log+"\n"+textanswer[3]+text+"❌";  // > Event action for page Evol Page:2
        //alert();  // > Event action for page Evol Page:3
        return true;
      }

      return _eventSelf;
    }; // End of event

    __instantiateSolver();

    return __odeSelf;
  }

  function _historic_x(__time) {
    var __beginIndex = 0;
    return _ODEi_evolution1.getEventSolver().getStateHistory().interpolate(__time,new Array(x.length),__beginIndex,x.ength);
  }

  function _historic_y(__time) {
    var __beginIndex = 0 + x.length;
    return _ODEi_evolution1.getEventSolver().getStateHistory().interpolate(__time,new Array(y.length),__beginIndex,y.ength);
  }

    _model._fontResized = function(iBase,iSize,iDelta) {
      _view._fontResized(iBase,iSize,iDelta);
  }; // end of _fontResized

  function _getViews() {
    var _viewsInfo = [];
    var _counter = 0;
    _viewsInfo[_counter++] = { name : "HtmlView Page", width : 800, height : 600 };
    return _viewsInfo;
  } // end of _getViews

  function _selectView(_viewNumber) {
    _view = null;
    _view = new Find_the_odd_rhyme_out_final_View(_topFrame,_viewNumber,_libraryPath,_codebasePath);
    var _view_super_reset = _view._reset;
    _view._reset = function() {
      _view_super_reset();
      switch(_viewNumber) {
        case -10 : break; // make Lint happy
        default :
        case 0:
          _view.collate.setAction("OffClick", function(_data,_info) {
  _view.firstRowPanel.getStyle().setDisplay("none");
  kheight=0.96;
  //_view.plottingPanel.getGraphics().setHeight(changeOrientation(0.95));

}); // HtmlView Page setting action 'OffClick' for element 'collate'
          _view.collate.setAction("OnClick", function(_data,_info) {
  _view.firstRowPanel.getStyle().setDisplay("block");
  //changeOrientation(0.5);
  kheight=0.90;
  //_view.plottingPanel.getGraphics().setHeight(changeOrientation(0.85));
  //_view.plottingPanel.propertyChanged("Height","100%");
  //_view._update();

}); // HtmlView Page setting action 'OnClick' for element 'collate'
          _view.comboBox.linkProperty("Options",  function() { return ["Rhymes","Rhyming Couplets"]; } ); // HtmlView Page linking property 'Options' for element 'comboBox'
          _view.comboBox.setAction("OnChange", function(_data,_info) {
  // to add comboBox that works and does not jam up the simulation when selected and simulation is running
  // options = ["N₀ =100","N₀ =4","N₀ =9","N₀ =16","N₀ =25","N₀ =36","N₀ =49","N₀ =64","N₀ =81","N₀ =121","N₀ =144","N₀ =169","N₀ =225","N₀ =289","N₀ =324","N₀ =361","N₀ =400","N₀ =1024","N₀ =1600","N₀ =2500"]
  // OnChange
  score=0; // need to set to zero to prevent bug
  //["Rhymes","Rhyming Couplets"]
  var opts = _view.comboBox.getProperty("SelectedOptions");  // array of options
      var option = (opts.length > 0)? opts[0]:""; // selected option 
  //["Rhymes","Rhyming Couplets"]
  if ( option=="Rhymes"){
    answerstringarray=[["Heist","Right","Kite","Height"],["Beer","Bore","Fore","Roar"],["Month","One","Gun","Won"],["Live","Love","Dove","Glove"],["Chop","Rock","Chalk","Hawk"],["Sane","Reign","Rain","Pain"],["Drivin'","Seven","Heaven","Eleven"],["Sleigh","Day","Stay","Way"],["","","",""]];
  catchanswerarray=["","","","","","","","","","","",""]; // last option round for blank
  fontsize= "normal normal 2vw ";
    }
  else if ( option=="Rhyming Couplets"){
    answerstringarray=[["See the barking of the actor,\nI think he's angry at the hacker.","Be not the first by whom the new are tried, \nNor yet the last to lay the old aside","Tis education forms the common mind,\nJust as the twig is bent, the tree's inclined","O could I flow like thee, and make thy stream\nMy great example, as it is my theme!"],["Her right car is just cool,\nIt needs no gas, it runs on food.","Time and Death shall depart, and say in flying,\nLove has found out a way to live, by dying.","So, lovers dream a rich and long delight,\nBut get a winter-seeming summer's night","The time is out of joint, O cursed spite\nThat ever I was born to set it right!"],["He finds it hard to see the rock,\nOvershadowed by the hilarious lot","This precious book of love, this unbound lover,\nTo beautify him only lacks a cover","Love looks not with the eyes, but with the mind;\nAnd therefore is winged Cupid painted blind.","For sweetest things turn sourest by their deeds;\nLilies that fester smell far worse than weeds."],["Who is that crawling near the salt?\nI think it'd like to eat the tod.","Thus have I had thee as a dream doth flatter\nIn sleep a king, but waking no such matter.","Blessed are you whose worthiness gives scope,\nBeing had, to triumph; being lacked, to hope.","So, till the judgement that yourself arise,\nYou live in this, and dwell in lovers' eyes."],["She is but an ornamental child,\nAdmired as she sits upon the slide","Tir'd with all these, from these would I be gone,\nSave that, to die, I leave my love alone.","You still shall live, such virtue hath my pen,\nWhere breath most breathes, even in the mouths of men.","How like Eve's apple doth thy beauty grow,\nIf thy sweet virtue answer not thy show!"],["She's not alone she brings a box,\na pet kangaroo, and lots of props.","Be not the first by whom the new are tried,\nNor yet the last to lay the old aside.","Be thou the first true merit to befriend;\nHis praise is lost, who stays till all commend.","Good nature and good sense must ever join;\nTo err is human, to forgive, divine."],["The kangaroo likes to chase a pot,\nEspecially one that hops.","Hope springs eternal in the human breast:\nMan never is, but always to be blest","Tis education forms the common mind,\nJust as the twig is bent, the tree's inclined.","Singing he was, or fluting all the day;\nHe was as fresh as is the month of May."],["See the sneering of the musician,\nI think he's angry at the friction.","So pardon the wild crazy thing I just said --\nI'm just not the same since there's rain in my head.","Whether or not we find what we are seeking \nis idle, biologically speaking.","The strangest strange stranger I've met in my life\n was the man who made use of his nose as a knife."],["","","",""]]; // last option round for blank
  catchanswerarray=["","","","","","","","","","","",""]; // last option round for blank
  fontsize= "normal normal 1vw ";
    }
   
  textanswer=answerstringarray[score]; //change 4 options
  text=catchanswerarray[score];
  speech(option);
  document.getElementById('label').focus();

}); // HtmlView Page setting action 'OnChange' for element 'comboBox'
          _view.comboBox.linkProperty("Disabled",  function() { return _isPlaying; } ); // HtmlView Page linking property 'Disabled' for element 'comboBox'
          _view.label.setAction("OnClick", function(_data,_info) {
  speech("Catch the odd rhyme");

}); // HtmlView Page setting action 'OnClick' for element 'label'
          _view.runPauseButton.setAction("OffClick", _pause); // HtmlView Page setting action 'OffClick' for element 'runPauseButton'
          _view.runPauseButton.linkProperty("State",  function() { return _isPaused; } ); // HtmlView Page linking property 'State' for element 'runPauseButton'
          _view.runPauseButton.setAction("OnClick", function(_data,_info) {
  _play();
  speech ("玩");

}); // HtmlView Page setting action 'OnClick' for element 'runPauseButton'
          _view.resetButton2.setAction("OnClick", function(_data,_info) {
  _reset();
  speech("重启");

}); // HtmlView Page setting action 'OnClick' for element 'resetButton2'
          _view.plottingPanel.linkProperty("Height",  function() { return changeOrientation(kheight); }, function(_v) { changeOrientation(kheight) = _v; } ); // HtmlView Page linking property 'Height' for element 'plottingPanel'
          _view.plottingPanel.setAction("OnDoubleClick", function(_data,_info) {
  toggleFullScreen();

}); // HtmlView Page setting action 'OnDoubleClick' for element 'plottingPanel'
          _view.plottingPanel.linkProperty("TRMessage",  function() { return "Score="+score+"/"+2*numberofrounds+"\n"+log; } ); // HtmlView Page linking property 'TRMessage' for element 'plottingPanel'
          _view.shapeSet.linkProperty("NumberOfElements",  function() { return numberofoption; }, function(_v) { numberofoption = _v; } ); // HtmlView Page linking property 'NumberOfElements' for element 'shapeSet'
          _view.shapeSet.linkProperty("X",  function() { return x; }, function(_v) { x = _v; } ); // HtmlView Page linking property 'X' for element 'shapeSet'
          _view.shapeSet.linkProperty("Y",  function() { return y; }, function(_v) { y = _v; } ); // HtmlView Page linking property 'Y' for element 'shapeSet'
          _view.shapeSet.linkProperty("ElementInteracted",  function() { return vocabaudio; }, function(_v) { vocabaudio = _v; } ); // HtmlView Page linking property 'ElementInteracted' for element 'shapeSet'
          _view.imageSet.linkProperty("NumberOfElements",  function() { return numberofoption; }, function(_v) { numberofoption = _v; } ); // HtmlView Page linking property 'NumberOfElements' for element 'imageSet'
          _view.imageSet.linkProperty("X",  function() { return x; }, function(_v) { x = _v; } ); // HtmlView Page linking property 'X' for element 'imageSet'
          _view.imageSet.linkProperty("Y",  function() { return y; }, function(_v) { y = _v; } ); // HtmlView Page linking property 'Y' for element 'imageSet'
          _view.imageSet.linkProperty("ElementInteracted",  function() { return vocabaudio; }, function(_v) { vocabaudio = _v; } ); // HtmlView Page linking property 'ElementInteracted' for element 'imageSet'
          _view.textSet.linkProperty("NumberOfElements",  function() { return numberofoption; }, function(_v) { numberofoption = _v; } ); // HtmlView Page linking property 'NumberOfElements' for element 'textSet'
          _view.textSet.linkProperty("X",  function() { return x; }, function(_v) { x = _v; } ); // HtmlView Page linking property 'X' for element 'textSet'
          _view.textSet.linkProperty("Y",  function() { return y; }, function(_v) { y = _v; } ); // HtmlView Page linking property 'Y' for element 'textSet'
          _view.textSet.linkProperty("Text",  function() { return textanswer; }, function(_v) { textanswer = _v; } ); // HtmlView Page linking property 'Text' for element 'textSet'
          _view.textSet.setAction("OnPress", function(_data,_info) {
  speech(textanswer[vocabaudio]);

}); // HtmlView Page setting action 'OnPress' for element 'textSet'
          _view.textSet.linkProperty("Font",  function() { return fontsize; }, function(_v) { fontsize = _v; } ); // HtmlView Page linking property 'Font' for element 'textSet'
          _view.textSet.linkProperty("ElementInteracted",  function() { return vocabaudio; }, function(_v) { vocabaudio = _v; } ); // HtmlView Page linking property 'ElementInteracted' for element 'textSet'
          _view.shape.linkProperty("X",  function() { return xc; }, function(_v) { xc = _v; } ); // HtmlView Page linking property 'X' for element 'shape'
          _view.shape.linkProperty("Y",  function() { return yc; }, function(_v) { yc = _v; } ); // HtmlView Page linking property 'Y' for element 'shape'
          _view.image.linkProperty("X",  function() { return xc; }, function(_v) { xc = _v; } ); // HtmlView Page linking property 'X' for element 'image'
          _view.image.linkProperty("Y",  function() { return yc; }, function(_v) { yc = _v; } ); // HtmlView Page linking property 'Y' for element 'image'
          _view.text.linkProperty("X",  function() { return xc; }, function(_v) { xc = _v; } ); // HtmlView Page linking property 'X' for element 'text'
          _view.text.linkProperty("Y",  function() { return yc; }, function(_v) { yc = _v; } ); // HtmlView Page linking property 'Y' for element 'text'
          _view.text.linkProperty("Text",  function() { return text; }, function(_v) { text = _v; } ); // HtmlView Page linking property 'Text' for element 'text'
          _view.text.setAction("OnPress", function(_data,_info) {
  speech(text);

}); // HtmlView Page setting action 'OnPress' for element 'text'
          _view.arrow.linkProperty("X",  function() { return xc; }, function(_v) { xc = _v; } ); // HtmlView Page linking property 'X' for element 'arrow'
          _view.arrow.linkProperty("Y",  function() { return yc+1; } ); // HtmlView Page linking property 'Y' for element 'arrow'
          break;
      } // end of switch
    }; // end of new reset

    _model.setView(_view);
    _model.reset();
    _view._enableEPub();
  } // end of _selectView

  _model.setAutoplay(false);
  _model.setFPS(20);
  _model.setStepsPerDisplay(1);
  _selectView(_model._autoSelectView(_getViews())); // this includes _model.reset()
  return _model;
}

function Find_the_odd_rhyme_out_final_View (_topFrame,_viewNumber,_libraryPath,_codebasePath) {
  var _view;
  switch(_viewNumber) {
    case -10 : break; // make Lint happy
    default :
    case 0: _view = Find_the_odd_rhyme_out_final_View_0 (_topFrame); break;
  } // end of switch

  if (_codebasePath) _view._setResourcePath(_codebasePath);

  if (_libraryPath) _view._setLibraryPath(_libraryPath);


  return _view;
} // end of main function

function Find_the_odd_rhyme_out_final_View_0 (_topFrame) {
  var _view = EJSS_CORE.createView(_topFrame);

  _view._reset = function() {
    _view._clearAll();
    _view._addElement(EJSS_INTERFACE.panel,"singlePlotPanel", _view._topFrame) // EJsS HtmlView.HtmlView Page: declaration of element 'singlePlotPanel'
      ;

    _view._addElement(EJSS_INTERFACE.wrappedPanel,"wrappedPanel", _view.singlePlotPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'wrappedPanel'
      .setProperty("CSS",{ "display":"block"}) // EJsS HtmlView.HtmlView Page: setting property 'CSS' for element 'wrappedPanel'
      ;

    _view._addElement(EJSS_INTERFACE.panel,"controlPanel", _view.wrappedPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'controlPanel'
      .setProperty("Width","100%") // EJsS HtmlView.HtmlView Page: setting property 'Width' for element 'controlPanel'
      .setProperty("CSS",{"display":"block"}) // EJsS HtmlView.HtmlView Page: setting property 'CSS' for element 'controlPanel'
      .setProperty("BorderStyle","solid") // EJsS HtmlView.HtmlView Page: setting property 'BorderStyle' for element 'controlPanel'
      .setProperty("BorderColor","Gray") // EJsS HtmlView.HtmlView Page: setting property 'BorderColor' for element 'controlPanel'
      .setProperty("BorderWidth",1) // EJsS HtmlView.HtmlView Page: setting property 'BorderWidth' for element 'controlPanel'
      ;

    _view._addElement(EJSS_INTERFACE.twoStateButton,"collate", _view.controlPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'collate'
      .setProperty("TextOn","☰") // EJsS HtmlView.HtmlView Page: setting property 'TextOn' for element 'collate'
      .setProperty("CSS",{"position": "fixed", "display": "block", "margin": "5px"}) // EJsS HtmlView.HtmlView Page: setting property 'CSS' for element 'collate'
      .setProperty("TextOff","☰") // EJsS HtmlView.HtmlView Page: setting property 'TextOff' for element 'collate'
      ;

    _view._addElement(EJSS_INTERFACE.panel,"firstRowPanel", _view.controlPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'firstRowPanel'
      .setProperty("Display","none") // EJsS HtmlView.HtmlView Page: setting property 'Display' for element 'firstRowPanel'
      ;

    _view._addElement(EJSS_INTERFACE.panel,"executionPanel", _view.firstRowPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'executionPanel'
      .setProperty("Width","100%") // EJsS HtmlView.HtmlView Page: setting property 'Width' for element 'executionPanel'
      .setProperty("Font","normal normal 10px Arial, Helvetica, sans-serif") // EJsS HtmlView.HtmlView Page: setting property 'Font' for element 'executionPanel'
      .setProperty("Display","inline-block") // EJsS HtmlView.HtmlView Page: setting property 'Display' for element 'executionPanel'
      ;

    _view._addElement(EJSS_INTERFACE.comboBox,"comboBox", _view.executionPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'comboBox'
      .setProperty("Font","normal normal 2vw ") // EJsS HtmlView.HtmlView Page: setting property 'Font' for element 'comboBox'
      ;

    _view._addElement(EJSS_INTERFACE.imageAndTextButton,"label", _view.executionPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'label'
      .setProperty("Text","Catch the odd rhyme") // EJsS HtmlView.HtmlView Page: setting property 'Text' for element 'label'
      .setProperty("Font","normal normal 30px Arial, Helvetica, sans-serif") // EJsS HtmlView.HtmlView Page: setting property 'Font' for element 'label'
      ;

    _view._addElement(EJSS_INTERFACE.twoStateButton,"runPauseButton", _view.executionPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'runPauseButton'
      .setProperty("TextOn","▶") // EJsS HtmlView.HtmlView Page: setting property 'TextOn' for element 'runPauseButton'
      .setProperty("Tooltip","Play/Pause") // EJsS HtmlView.HtmlView Page: setting property 'Tooltip' for element 'runPauseButton'
      .setProperty("TextOff","❚❚") // EJsS HtmlView.HtmlView Page: setting property 'TextOff' for element 'runPauseButton'
      .setProperty("Font","normal bold 2vw") // EJsS HtmlView.HtmlView Page: setting property 'Font' for element 'runPauseButton'
      ;

    _view._addElement(EJSS_INTERFACE.button,"resetButton2", _view.executionPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'resetButton2'
      .setProperty("Text","↻") // EJsS HtmlView.HtmlView Page: setting property 'Text' for element 'resetButton2'
      .setProperty("Font","normal bold 2vw") // EJsS HtmlView.HtmlView Page: setting property 'Font' for element 'resetButton2'
      ;

    _view._addElement(EJSS_INTERFACE.audio,"audio", _view.executionPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'audio'
      .setProperty("AudioUrl","./CatchingGame/Ding Sound Effect.m4a") // EJsS HtmlView.HtmlView Page: setting property 'AudioUrl' for element 'audio'
      ;

    _view._addElement(EJSS_DRAWING2D.plottingPanel,"plottingPanel", _view.wrappedPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'plottingPanel'
      .setProperty("Width","100%") // EJsS HtmlView.HtmlView Page: setting property 'Width' for element 'plottingPanel'
      .setProperty("Gutters",[0,0,0,0]) // EJsS HtmlView.HtmlView Page: setting property 'Gutters' for element 'plottingPanel'
      .setProperty("AxisYLineColor","White") // EJsS HtmlView.HtmlView Page: setting property 'AxisYLineColor' for element 'plottingPanel'
      .setProperty("XFixedTick",0) // EJsS HtmlView.HtmlView Page: setting property 'XFixedTick' for element 'plottingPanel'
      .setProperty("Enabled",true) // EJsS HtmlView.HtmlView Page: setting property 'Enabled' for element 'plottingPanel'
      .setProperty("GuttersLineColor","White") // EJsS HtmlView.HtmlView Page: setting property 'GuttersLineColor' for element 'plottingPanel'
      .setProperty("MaximumY",6) // EJsS HtmlView.HtmlView Page: setting property 'MaximumY' for element 'plottingPanel'
      .setProperty("MaximumX",3.5) // EJsS HtmlView.HtmlView Page: setting property 'MaximumX' for element 'plottingPanel'
      .setProperty("YFixedTick",0) // EJsS HtmlView.HtmlView Page: setting property 'YFixedTick' for element 'plottingPanel'
      .setProperty("YAutoTicks",false) // EJsS HtmlView.HtmlView Page: setting property 'YAutoTicks' for element 'plottingPanel'
      .setProperty("MinimumX",-0.5) // EJsS HtmlView.HtmlView Page: setting property 'MinimumX' for element 'plottingPanel'
      .setProperty("GridYLineColor","White") // EJsS HtmlView.HtmlView Page: setting property 'GridYLineColor' for element 'plottingPanel'
      .setProperty("AxisXLineColor","White") // EJsS HtmlView.HtmlView Page: setting property 'AxisXLineColor' for element 'plottingPanel'
      .setProperty("MinimumY",0) // EJsS HtmlView.HtmlView Page: setting property 'MinimumY' for element 'plottingPanel'
      .setProperty("XTickStep",1) // EJsS HtmlView.HtmlView Page: setting property 'XTickStep' for element 'plottingPanel'
      .setProperty("YTickStep",10) // EJsS HtmlView.HtmlView Page: setting property 'YTickStep' for element 'plottingPanel'
      .setProperty("XAutoTicks",false) // EJsS HtmlView.HtmlView Page: setting property 'XAutoTicks' for element 'plottingPanel'
      .setProperty("GuttersColor","White") // EJsS HtmlView.HtmlView Page: setting property 'GuttersColor' for element 'plottingPanel'
      .setProperty("GridXLineColor","White") // EJsS HtmlView.HtmlView Page: setting property 'GridXLineColor' for element 'plottingPanel'
      ;

    _view._addElement(EJSS_DRAWING2D.image,"Background", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'Background'
      .setProperty("SizeX",5) // EJsS HtmlView.HtmlView Page: setting property 'SizeX' for element 'Background'
      .setProperty("X",2) // EJsS HtmlView.HtmlView Page: setting property 'X' for element 'Background'
      .setProperty("Y",5) // EJsS HtmlView.HtmlView Page: setting property 'Y' for element 'Background'
      .setProperty("ImageUrl","./CatchingGame/brickwall.jpg") // EJsS HtmlView.HtmlView Page: setting property 'ImageUrl' for element 'Background'
      .setProperty("SizeY",10) // EJsS HtmlView.HtmlView Page: setting property 'SizeY' for element 'Background'
      ;

    _view._addElement(EJSS_DRAWING2D.shapeSet,"shapeSet", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'shapeSet'
      .setProperty("FillColor","White") // EJsS HtmlView.HtmlView Page: setting property 'FillColor' for element 'shapeSet'
      .setProperty("Sensitivity",0) // EJsS HtmlView.HtmlView Page: setting property 'Sensitivity' for element 'shapeSet'
      .setProperty("SizeX",0.5) // EJsS HtmlView.HtmlView Page: setting property 'SizeX' for element 'shapeSet'
      .setProperty("ShapeType","ROUND_RECTANGLE") // EJsS HtmlView.HtmlView Page: setting property 'ShapeType' for element 'shapeSet'
      .setProperty("Visibility",false) // EJsS HtmlView.HtmlView Page: setting property 'Visibility' for element 'shapeSet'
      .setProperty("SizeY",0.5) // EJsS HtmlView.HtmlView Page: setting property 'SizeY' for element 'shapeSet'
      .setProperty("EnabledPosition","ENABLED_NO_MOVE") // EJsS HtmlView.HtmlView Page: setting property 'EnabledPosition' for element 'shapeSet'
      ;

    _view._addElement(EJSS_DRAWING2D.imageSet,"imageSet", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'imageSet'
      .setProperty("Sensitivity",0) // EJsS HtmlView.HtmlView Page: setting property 'Sensitivity' for element 'imageSet'
      .setProperty("SizeX",150) // EJsS HtmlView.HtmlView Page: setting property 'SizeX' for element 'imageSet'
      .setProperty("ImageUrl","./CatchingGame/brick.png") // EJsS HtmlView.HtmlView Page: setting property 'ImageUrl' for element 'imageSet'
      .setProperty("SizeY",150) // EJsS HtmlView.HtmlView Page: setting property 'SizeY' for element 'imageSet'
      .setProperty("PixelSize",true) // EJsS HtmlView.HtmlView Page: setting property 'PixelSize' for element 'imageSet'
      .setProperty("EnabledPosition","ENABLED_NO_MOVE") // EJsS HtmlView.HtmlView Page: setting property 'EnabledPosition' for element 'imageSet'
      ;

    _view._addElement(EJSS_DRAWING2D.textSet,"textSet", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'textSet'
      .setProperty("FillColor","White") // EJsS HtmlView.HtmlView Page: setting property 'FillColor' for element 'textSet'
      .setProperty("EnabledPosition","ENABLED_NO_MOVE") // EJsS HtmlView.HtmlView Page: setting property 'EnabledPosition' for element 'textSet'
      ;

    _view._addElement(EJSS_DRAWING2D.group,"group", _view.plottingPanel) // EJsS HtmlView.HtmlView Page: declaration of element 'group'
      ;

    _view._addElement(EJSS_DRAWING2D.shape,"shape", _view.group) // EJsS HtmlView.HtmlView Page: declaration of element 'shape'
      .setProperty("SizeX",0.5) // EJsS HtmlView.HtmlView Page: setting property 'SizeX' for element 'shape'
      .setProperty("Visibility",false) // EJsS HtmlView.HtmlView Page: setting property 'Visibility' for element 'shape'
      .setProperty("SizeY",0.5) // EJsS HtmlView.HtmlView Page: setting property 'SizeY' for element 'shape'
      .setProperty("EnabledPosition","ENABLED_X") // EJsS HtmlView.HtmlView Page: setting property 'EnabledPosition' for element 'shape'
      ;

    _view._addElement(EJSS_DRAWING2D.image,"image", _view.group) // EJsS HtmlView.HtmlView Page: declaration of element 'image'
      .setProperty("Sensitivity",0) // EJsS HtmlView.HtmlView Page: setting property 'Sensitivity' for element 'image'
      .setProperty("SizeX",250) // EJsS HtmlView.HtmlView Page: setting property 'SizeX' for element 'image'
      .setProperty("ImageUrl","./CatchingGame/bucket.png") // EJsS HtmlView.HtmlView Page: setting property 'ImageUrl' for element 'image'
      .setProperty("SizeY",250) // EJsS HtmlView.HtmlView Page: setting property 'SizeY' for element 'image'
      .setProperty("PixelSize",true) // EJsS HtmlView.HtmlView Page: setting property 'PixelSize' for element 'image'
      .setProperty("EnabledPosition","ENABLED_X") // EJsS HtmlView.HtmlView Page: setting property 'EnabledPosition' for element 'image'
      ;

    _view._addElement(EJSS_DRAWING2D.text,"text", _view.group) // EJsS HtmlView.HtmlView Page: declaration of element 'text'
      .setProperty("FillColor","Black") // EJsS HtmlView.HtmlView Page: setting property 'FillColor' for element 'text'
      .setProperty("Font","normal normal 40px ") // EJsS HtmlView.HtmlView Page: setting property 'Font' for element 'text'
      .setProperty("EnabledPosition","ENABLED_X") // EJsS HtmlView.HtmlView Page: setting property 'EnabledPosition' for element 'text'
      ;

    _view._addElement(EJSS_DRAWING2D.text,"arrow", _view.group) // EJsS HtmlView.HtmlView Page: declaration of element 'arrow'
      .setProperty("RelativePosition","NORTH") // EJsS HtmlView.HtmlView Page: setting property 'RelativePosition' for element 'arrow'
      .setProperty("Text","") // EJsS HtmlView.HtmlView Page: setting property 'Text' for element 'arrow'
      .setProperty("Font","normal normal 10vw ") // EJsS HtmlView.HtmlView Page: setting property 'Font' for element 'arrow'
      ;

  };

  return _view;
}


//--><!]]></script>
  </head>
  <body>
    <div role="button" id="_topFrame" style="text-align:center"></div>
  <div id="metadata" class="metadata">
    <br />
    <div id="title_author">
      <hr />
      <b>Title and author:</b>
      <p>
      Catch the odd rhyme!<br />
     <img alt="Logo" src="CatchingGame/game.png" />
      </p>
      <p>
      <img alt="author image" src="CatchingGame/1authorlookangphoto5050.png" />
 Loo Kang Wee; Leow Deng Li; Victoria Chanel Lee
      </p>
    </div>
    <hr />
    <p></p>
    <div id="copyright_message">
      <div class="cc_left"  style="float:left">&#169; 2019, Loo Kang Wee; Leow Deng Li; Victoria Chanel Lee.</div>
      <div class="cc_right" style="float:right">    Released under a <a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/deed.en_US"> <img alt="Creative Commons Attribution-NonCommercial-ShareAlike" src="_ejs_library/images/cc_icon.png" /> </a> license.</div>
    </div>
  </div>
    <script type="text/javascript"><!--//--><![CDATA[//><!--
      var _model;
      var _scorm;
      window.addEventListener('load',
        function () { 
          _model =  new Find_the_odd_rhyme_out_final("_topFrame","_ejs_library/",null);
          if (typeof _isApp !== "undefined" && _isApp) _model.setRunAlways(true);
          TextResizeDetector.TARGET_ELEMENT_ID = '_topFrame';
          TextResizeDetector.USER_INIT_FUNC = function () {
            var iBase = TextResizeDetector.addEventListener(function(e,args) {
              _model._fontResized(args[0].iBase,args[0].iSize,args[0].iDelta);
              },null);
            _model._fontResized(iBase);
          };
          _model.onload();
        }, false);
    //--><!]]></script>
  </body>
</html>
